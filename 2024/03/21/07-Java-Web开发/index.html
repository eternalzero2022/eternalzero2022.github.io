
    <!DOCTYPE html>
    <html lang="zh-CN"
            
          
    >
    <head>
    <meta charset="utf-8">
    

    

    
    <title>
        07-Java-Web开发 |
        
        EternalZero2022 的博客</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CUbuntu%20Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
    
<link rel="stylesheet" href="https://unpkg.com/@fortawesome/fontawesome-free/css/v4-font-face.min.css">

    
<link rel="stylesheet" href="/css/loader.css">

    <meta name="description" content="Java Web开发  一、HTTP协议 协议：网络中计算机之间为能够互相通信所制定的一些规则 协议栈：TCP&#x2F;IP的四层协议栈  数据包：TCP&#x2F;IP协议簇可能会将应用层发送的数据分成多个包依次发送，例如段、包、帧 客户端服务器模式：  客户端发起请求，服务器回送响应 HTTP是一个无状态协议（非Keep-Alive模式下，每次建立连接完全独立，每次发出请求，服务器返回响应，链接就被关闭了）">
<meta property="og:type" content="article">
<meta property="og:title" content="07-Java-Web开发">
<meta property="og:url" content="https://eternalzero2022.github.io/2024/03/21/07-Java-Web%E5%BC%80%E5%8F%91/index.html">
<meta property="og:site_name" content="EternalZero2022 的博客">
<meta property="og:description" content="Java Web开发  一、HTTP协议 协议：网络中计算机之间为能够互相通信所制定的一些规则 协议栈：TCP&#x2F;IP的四层协议栈  数据包：TCP&#x2F;IP协议簇可能会将应用层发送的数据分成多个包依次发送，例如段、包、帧 客户端服务器模式：  客户端发起请求，服务器回送响应 HTTP是一个无状态协议（非Keep-Alive模式下，每次建立连接完全独立，每次发出请求，服务器返回响应，链接就被关闭了）">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://eternalzero2022.github.io/2024/03/21/07-Java-Web%E5%BC%80%E5%8F%91/p/%E5%8D%8F%E8%AE%AE%E6%A0%88.png">
<meta property="og:image" content="https://eternalzero2022.github.io/2024/03/21/07-Java-Web%E5%BC%80%E5%8F%91/p/request.png">
<meta property="og:image" content="https://eternalzero2022.github.io/2024/03/21/07-Java-Web%E5%BC%80%E5%8F%91/p/%E5%93%8D%E5%BA%94.png">
<meta property="og:image" content="https://eternalzero2022.github.io/2024/03/21/07-Java-Web%E5%BC%80%E5%8F%91/p/Tomcat.png">
<meta property="og:image" content="https://eternalzero2022.github.io/2024/03/21/07-Java-Web%E5%BC%80%E5%8F%91/p/%E6%89%A7%E8%A1%8C.png">
<meta property="og:image" content="https://eternalzero2022.github.io/2024/03/21/07-Java-Web%E5%BC%80%E5%8F%91/p/%E6%9C%89%E9%99%90%E7%8A%B6%E6%80%81%E6%9C%BA.png">
<meta property="og:image" content="https://eternalzero2022.github.io/2024/03/21/07-Java-Web%E5%BC%80%E5%8F%91/p/%E7%B1%BB%E9%B1%BC%E7%B1%BB%E5%85%B3%E7%B3%BB.png">
<meta property="og:image" content="https://eternalzero2022.github.io/2024/03/21/07-Java-Web%E5%BC%80%E5%8F%91/p/%E9%80%BB%E8%BE%91%E6%A8%A1%E5%9E%8B.png">
<meta property="og:image" content="https://eternalzero2022.github.io/2024/03/21/07-Java-Web%E5%BC%80%E5%8F%91/p/%E4%B8%89%E5%B1%82.png">
<meta property="og:image" content="https://eternalzero2022.github.io/2024/03/21/07-Java-Web%E5%BC%80%E5%8F%91/p/mapper.png">
<meta property="og:image" content="https://eternalzero2022.github.io/2024/03/21/07-Java-Web%E5%BC%80%E5%8F%91/p/%E7%BB%93%E6%9E%84.png">
<meta property="og:image" content="https://eternalzero2022.github.io/2024/03/21/07-Java-Web%E5%BC%80%E5%8F%91/p/control.png">
<meta property="og:image" content="https://eternalzero2022.github.io/2024/03/21/07-Java-Web%E5%BC%80%E5%8F%91/p/bl.png">
<meta property="og:image" content="https://eternalzero2022.github.io/2024/03/21/07-Java-Web%E5%BC%80%E5%8F%91/p/data.png">
<meta property="og:image" content="https://eternalzero2022.github.io/2024/03/21/07-Java-Web%E5%BC%80%E5%8F%91/p/impl.png">
<meta property="article:published_time" content="2024-03-21T13:48:04.000Z">
<meta property="article:modified_time" content="2024-03-21T13:48:21.277Z">
<meta property="article:author" content="EternalZero2022">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://eternalzero2022.github.io/2024/03/21/07-Java-Web%E5%BC%80%E5%8F%91/p/%E5%8D%8F%E8%AE%AE%E6%A0%88.png">
    
        <link rel="alternate" href="/atom.xml" title="EternalZero2022 的博客" type="application/atom+xml">
    
    
        <link rel="shortcut icon" href="/images/favicon.ico">
    
    
        
<link rel="stylesheet" href="https://unpkg.com/typeface-source-code-pro@1.1.13/index.css">

    
    
<link rel="stylesheet" href="/css/style.css">

    
        
<link rel="stylesheet" href="https://unpkg.com/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">

    
    
        
<link rel="stylesheet" href="https://unpkg.com/katex@0.16.7/dist/katex.min.css">

    
    
    
    
<script src="https://unpkg.com/pace-js@1.2.4/pace.min.js"></script>

    
        
<link rel="stylesheet" href="https://unpkg.com/wowjs@1.1.3/css/libs/animate.css">

        
<script src="https://unpkg.com/wowjs@1.1.3/dist/wow.min.js"></script>

        <script>
          new WOW({
            offset: 0,
            mobile: true,
            live: false
          }).init();
        </script>
    
<meta name="generator" content="Hexo 6.3.0"></head>

    <body>
    
<div id='loader'>
  <div class="loading-left-bg"></div>
  <div class="loading-right-bg"></div>
  <div class="spinner-box">
    <div class="loading-taichi">
      <svg width="150" height="150" viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision">
      <path d="M303.5 432A80 80 0 0 1 291.5 592A80 80 0 0 1 303.5 432z" fill="#ff6e6b" />
      <path d="M512 65A447 447 0 0 1 512 959L512 929A417 417 0 0 0 512 95A417 417 0 0 0 512 929L512 959A447 447 0 0 1 512 65z" fill="#fd0d00" />
      <path d="M512 95A417 417 0 0 1 929 512A208.5 208.5 0 0 1 720.5 720.5L720.5 592A80 80 0 0 0 720.5 432A80 80 0 0 0 720.5 592L720.5 720.5A208.5 208.5 0 0 1 512 512A208.5 208.5 0 0 0 303.5 303.5A208.5 208.5 0 0 0 95 512A417 417 0 0 1 512 95" fill="#fd0d00" />
    </svg>
    </div>
    <div class="loading-word">少女祈祷中...</div>
  </div>
</div>
</div>

<script>
  const endLoading = function() {
    document.body.style.overflow = 'auto';
    document.getElementById('loader').classList.add("loading");
  }
  window.addEventListener('load', endLoading);
  document.getElementById('loader').addEventListener('click', endLoading);
</script>


    <div id="container">
        <div id="wrap">
            <header id="header">
    
        <img data-src="/images/banner.jpg" data-sizes="auto" alt="07-Java-Web开发" class="lazyload">
    
    <div id="header-outer" class="outer">
        <div id="header-title" class="inner">
            <div id="logo-wrap">
                
                    
                    
                        <a href="/" id="logo"><h1>07-Java-Web开发</h1></a>
                    
                
            </div>
            
                
                
            
        </div>
        <div id="header-inner">
            <nav id="main-nav">
                <a id="main-nav-toggle" class="nav-icon"></a>
                
                    <span class="main-nav-link-wrap">
                        <span class="main-nav-icon"></span>
                        <a class="main-nav-link" href="/">首页</a>
                    </span>
                
                    <span class="main-nav-link-wrap">
                        <span class="main-nav-icon"></span>
                        <a class="main-nav-link" href="/archives">归档</a>
                    </span>
                
                    <span class="main-nav-link-wrap">
                        <span class="main-nav-icon"></span>
                        <a class="main-nav-link" href="/about">关于</a>
                    </span>
                
                    <span class="main-nav-link-wrap">
                        <span class="main-nav-icon"></span>
                        <a class="main-nav-link" href="/friend">友链</a>
                    </span>
                
            </nav>
            <nav id="sub-nav">
                
                    <a id="nav-rss-link" class="nav-icon" href="/atom.xml"
                       title="RSS 订阅"></a>
                
                
            </nav>
            <div id="search-form-wrap">
                <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://eternalzero2022.github.io"></form>
            </div>
        </div>
    </div>
</header>

            <div id="content" class="outer">
                <section id="main"><article id="post-07-Java-Web开发" class="h-entry article article-type-post"
         itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
    <div class="article-inner">
        <div class="article-meta">
            <div class="article-date wow slideInLeft">
    <a href="/2024/03/21/07-Java-Web%E5%BC%80%E5%8F%91/" class="article-date-link">
        <time datetime="2024-03-21T13:48:04.000Z"
              itemprop="datePublished">2024-03-21</time>
    </a>
</div>

            

        </div>
        <div class="hr-line"></div>
        

        <div class="e-content article-entry" itemprop="articleBody">
            
                <h1 id="java-web开发"><a class="markdownIt-Anchor" href="#java-web开发"></a> Java Web开发</h1>
<h2 id="一-http协议"><a class="markdownIt-Anchor" href="#一-http协议"></a> 一、HTTP协议</h2>
<p>协议：网络中计算机之间为能够互相通信所制定的一些规则</p>
<p>协议栈：TCP/IP的四层协议栈</p>
<p><img src="p/%E5%8D%8F%E8%AE%AE%E6%A0%88.png" alt="" /></p>
<p>数据包：TCP/IP协议簇可能会将应用层发送的数据分成多个包依次发送，例如段、包、帧</p>
<p>客户端服务器模式：</p>
<ul>
<li>客户端发起请求，服务器回送响应</li>
<li>HTTP是一个无状态协议（非Keep-Alive模式下，每次建立连接完全独立，每次发出请求，服务器返回响应，链接就被关闭了）</li>
</ul>
<h3 id="http工作过程"><a class="markdownIt-Anchor" href="#http工作过程"></a> HTTP工作过程</h3>
<ul>
<li>地址解析：如<a target="_blank" rel="noopener" href="http://localhost.com:8080/index.htm%EF%BC%8C%E5%88%86%E8%A7%A3%E5%BE%97%E5%88%B0%E5%8D%8F%E8%AE%AE%E5%90%8D%E3%80%81%E4%B8%BB%E6%9C%BA%E5%90%8D%E3%80%81%E7%AB%AF%E5%8F%A3%E3%80%81%E5%AF%B9%E8%B1%A1%E8%B7%AF%E5%BE%84">http://localhost.com:8080/index.htm，分解得到协议名、主机名、端口、对象路径</a></li>
<li>封装HTTP请求数据包：把以上部分结合本机自己的信息，封装成一个HTTPi请求数据包</li>
<li>封装成TCP包，建立TCP连接（三次握手），客户机先与服务器建立连接</li>
<li>客户机发送请求命令：例如GET/sample/hello.jsp HTTP/1.1</li>
<li>服务器响应：服务器接收到请求后给与响应信息，如HTTP/1.1 200 OK。然后以Content-Type应答头信息所描述的格式发送用户请求的实际数据</li>
<li>一般服务器发送响应数据后就关闭TCP连接，但是如果头信息中有Connection:Keep-Alive，就可以保持打开状态，继续通过相同的连接发送请求</li>
</ul>
<h3 id="url格式请求"><a class="markdownIt-Anchor" href="#url格式请求"></a> URL格式请求</h3>
<p>三部分：协议类型、服务器地址（和端口号）、路径。可以使用携带键值对形式的参数，以问号开头，采用name=value形式，多个URL参数之间使用&amp;隔开</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://blog.csdn.com/users?gender=male</span><br></pre></td></tr></table></figure>
<h3 id="request"><a class="markdownIt-Anchor" href="#request"></a> Request</h3>
<p><img src="p/request.png" alt="" /></p>
<p>常用的方法：GET和POST</p>
<ul>
<li>GET用于获取资源，不会对服务器数据进行修改，所以不发送body</li>
<li>POST方法用于增加或修改资源，它会将发送给服务器的内容写在Body里面</li>
</ul>
<h3 id="response"><a class="markdownIt-Anchor" href="#response"></a> Response</h3>
<p><img src="p/%E5%93%8D%E5%BA%94.png" alt="" /></p>
<p>常用状态码：</p>
<ul>
<li>1xx：临时性消息。如：100（继续发送）、101（正在切换协议）；</li>
<li>2xx：成功。最典型的是200（OK）、201（创建成功）；</li>
<li>3xx：重定向。如：301（永久移动）302（暂时移动）、304（内容未改变）；</li>
<li>4xx：客户端错误。如：400（客户端请求错误）、401（认证失败）、403（被禁⽌）、404（找不到内<br />
容）；</li>
<li>5xx：服务器错误。如：500（服务器内部错误）</li>
</ul>
<h2 id="二-tomcat和servlet原理"><a class="markdownIt-Anchor" href="#二-tomcat和servlet原理"></a> 二、Tomcat和Servlet原理</h2>
<h3 id="tomcat"><a class="markdownIt-Anchor" href="#tomcat"></a> Tomcat</h3>
<p>是一个Java语言编写的运行在JVM之上的Web服务器，它和HTTP服务器一样，绑定IP地址并监听TCP端口，也能：</p>
<ul>
<li>管理Servlet程序的声明周期</li>
<li>将URL映射到制定的Servlet进行处理</li>
<li>与Servlet程序合作处理由Web浏览器发俩的HTTP请求，生成HttpServlet程序对象并传递给Servlet进行处理，将Servlet中的HttpServletResponse对象生成的内容返回给服务器</li>
</ul>
<p><img src="p/Tomcat.png" alt="" /></p>
<h3 id="servlet"><a class="markdownIt-Anchor" href="#servlet"></a> Servlet</h3>
<p>java编写的服务器端程序，交互式地浏览和修改数据，生成动态Web内容</p>
<p>运行在Web服务器上，作为来自浏览器的请求和HTTP服务器数据库或应用程序之间的中间层。</p>
<p>典型的生命周期：</p>
<ul>
<li>HTTP请求被委派到Servlet容器</li>
<li>容器调用service()方法前加载Servlet类</li>
<li>容器处理由多个线程产生的多个请求，每个线程执行单一service方法</li>
</ul>
<p>service方法：处理请求，把格式话的数据写回客户端。</p>
<ul>
<li>每次收到一个请求就产生一个新的进程调用服务</li>
<li>检查HTTP请求类型，在适当的时候调用doGet、doPost等方法</li>
</ul>
<p>不用对service()方法做任何动作</p>
<p>具体使用：</p>
<ul>
<li>先编写如下类：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">// 导⼊必需的 java 库</span><br><span class="line">import java.io.*;</span><br><span class="line">import javax.servlet.*;</span><br><span class="line">import javax.servlet.http.*;</span><br><span class="line">// 扩展 HttpServlet 类</span><br><span class="line">public class HelloWorld extends HttpServlet &#123;</span><br><span class="line"> private String message;</span><br><span class="line"> public void init() throws ServletException</span><br><span class="line"> &#123;</span><br><span class="line"> // 执⾏必需的初始化</span><br><span class="line"> message = &quot;Hello World&quot;;</span><br><span class="line"> &#125;</span><br><span class="line"> public void doGet(HttpServletRequest request,</span><br><span class="line"> HttpServletResponse response)</span><br><span class="line"> throws ServletException, IOException</span><br><span class="line"> &#123;</span><br><span class="line"> // 设置响应内容类型</span><br><span class="line"> response.setContentType(&quot;text/html&quot;);</span><br><span class="line"> // 实际的逻辑是在这⾥</span><br><span class="line"> PrintWriter out = response.getWriter();</span><br><span class="line"> out.println(&quot;&lt;h1&gt;&quot; + message + &quot;&lt;/h1&gt;&quot;);</span><br><span class="line"> &#125;</span><br><span class="line"> public void destroy()</span><br><span class="line"> &#123;</span><br><span class="line"> // </span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后：</p>
<p><img src="p/%E6%89%A7%E8%A1%8C.png" alt="" /></p>
<h2 id="三-rest和json"><a class="markdownIt-Anchor" href="#三-rest和json"></a> 三、REST和JSON</h2>
<p>REST风格的提出：Roy Fielding博士，迅速取代SOAP成为Web API的标准</p>
<h3 id="web-api与前后端分离"><a class="markdownIt-Anchor" href="#web-api与前后端分离"></a> Web API与前后端分离</h3>
<p>如果Url返回的不是HTML，而是机器能直接解析的数据，这个URL就可以看成是一个Web API：</p>
<p>例如，由于JSON能直接被js读取，所以以JSON格式编写的WebAPI，即REST API，具有简单、易读、易用的特点</p>
<p>规范：除了GET请求外，POST\PUT等请求的body是JSON数据格式，请求的Content-Type为application/json</p>
<h3 id="json"><a class="markdownIt-Anchor" href="#json"></a> JSON</h3>
<p>本质是一个正则表达式，parser是一个有限状态机</p>
<p><img src="p/%E6%9C%89%E9%99%90%E7%8A%B6%E6%80%81%E6%9C%BA.png" alt="" /></p>
<h2 id="四-spring-boot入门"><a class="markdownIt-Anchor" href="#四-spring-boot入门"></a> 四、Spring Boot入门</h2>
<p>用来简化新Spring应用的初始搭建以及开发过程。</p>
<ul>
<li>简化依赖</li>
<li>简化配置</li>
<li>简化部署</li>
<li>简化监控</li>
</ul>
<p>POM文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line"> xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;</span><br><span class="line"> &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</span><br><span class="line"> …</span><br><span class="line"> &lt;parent&gt;…&lt;/parent&gt;</span><br><span class="line"> &lt;properties&gt;…&lt;/properties&gt;</span><br><span class="line"> &lt;dependencies&gt;</span><br><span class="line"> &lt;dependency&gt;</span><br><span class="line"> &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line"> &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;</span><br><span class="line"> &lt;/dependency&gt;</span><br><span class="line"> &lt;dependency&gt;</span><br><span class="line"> &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line"> &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;</span><br><span class="line"> &lt;scope&gt;test&lt;/scope&gt;</span><br><span class="line"> &lt;/dependency&gt;</span><br><span class="line"> &lt;/dependencies&gt;</span><br><span class="line"> &lt;build&gt;</span><br><span class="line"> &lt;plugins&gt;</span><br><span class="line"> &lt;plugin&gt;</span><br><span class="line"> &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line"> &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;</span><br><span class="line"> &lt;/plugin&gt;</span><br><span class="line"> &lt;/plugins&gt;</span><br><span class="line"> &lt;/build&gt;</span><br><span class="line">&lt;/project&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="程序入口"><a class="markdownIt-Anchor" href="#程序入口"></a> 程序入口：</h3>
<p>main方法必须放到根package下，命名不做要求。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@SpringBootApplication</span><br><span class="line">public class Application &#123;</span><br><span class="line"> public static void main(String[] args) &#123;</span><br><span class="line"> SpringApplication.run(Application.class, args);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="controller"><a class="markdownIt-Anchor" href="#controller"></a> Controller</h3>
<p>对URL路径的响应是通过HelloController类来实现的</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// HelloController.java</span><br><span class="line">package hello;</span><br><span class="line">import org.springframework.web.bind.annotation.RestController;</span><br><span class="line">import org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line">@RestController</span><br><span class="line">public class HelloController &#123;</span><br><span class="line"> @RequestMapping(&quot;/&quot;)</span><br><span class="line"> public String index() &#123;</span><br><span class="line"> return &quot;Greetings from Spring Boot!&quot;;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="启动和浏览器访问"><a class="markdownIt-Anchor" href="#启动和浏览器访问"></a> 启动和浏览器访问</h3>
<p>启动项目的三种方式：</p>
<ul>
<li>在IDE运行Application的main方法</li>
<li>使用命令mvn spring-boot:run</li>
<li>运行mvn package生成可运行JAR文件，使用java -jar直接运行</li>
</ul>
<h2 id="五-数据设计"><a class="markdownIt-Anchor" href="#五-数据设计"></a> 五、数据设计</h2>
<p>数据持久化：数据只有能够被记录存储回忆才能成为知识</p>
<p>关系型数据库：关系</p>
<p>⽤户的需求及其业务领域出发，进过分析和总结，提炼出来⽤以描述⽤户业务的概念类，以及概念类之间的关系。</p>
<p>主要关心类和类之间的关系</p>
<p><img src="p/%E7%B1%BB%E9%B1%BC%E7%B1%BB%E5%85%B3%E7%B3%BB.png" alt="" /></p>
<h3 id="逻辑模型"><a class="markdownIt-Anchor" href="#逻辑模型"></a> 逻辑模型</h3>
<p>就是将概念模型具体化，要实现概念的功能的时候具体需要的实体和属性</p>
<p><img src="p/%E9%80%BB%E8%BE%91%E6%A8%A1%E5%9E%8B.png" alt="" /></p>
<h3 id="物理模型"><a class="markdownIt-Anchor" href="#物理模型"></a> 物理模型</h3>
<p>对逻辑模型在真实数据库中的实现的表现</p>
<h3 id="将类图转换为关系表"><a class="markdownIt-Anchor" href="#将类图转换为关系表"></a> 将类图转换为关系表</h3>
<p>转换过程：</p>
<ul>
<li>一个类/对象映射为一张表（属性=列名，对象=行）</li>
<li>为每个转换后的表建立主键</li>
<li>处理关联（类/对象的来链接–关系/表通过主键/外键实现关联）</li>
</ul>
<h3 id="sql语句"><a class="markdownIt-Anchor" href="#sql语句"></a> SQL语句</h3>
<p>结构化查询语言，管理关系数据库管理系统的一套标准语言</p>
<h3 id="jdbc原理"><a class="markdownIt-Anchor" href="#jdbc原理"></a> JDBC原理</h3>
<p>Java数据库连接是Java语言中用来规范客户端程序如何访问数据库管理系统的应用程序接口</p>
<p>使用JDBC完成一个SQL操作的示例代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//1.加载驱动程序</span><br><span class="line">Class.forName(&quot;com.mysql.jdbc.Driver&quot;);</span><br><span class="line">//2. 获得数据库连接</span><br><span class="line">Connection conn = DriverManager.getConnection(URL, USER, PASSWORD);</span><br><span class="line">//3.操作数据库，实现增删改查</span><br><span class="line">Statement stmt = conn.createStatement();</span><br><span class="line">ResultSet rs = stmt.executeQuery(&quot;SELECT user_name, age FROM imooc_goddess&quot;);</span><br><span class="line">//如果有数据，rs.next()返回true</span><br><span class="line">while(rs.next())&#123;</span><br><span class="line"> System.out.println(rs.getString(&quot;user_name&quot;)+&quot; 年龄：&quot;+rs.getInt(&quot;age&quot;));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="dao"><a class="markdownIt-Anchor" href="#dao"></a> DAO</h3>
<p>数据存取对象，位于业务逻辑层和数据层之间实现以面向对象API为形式的对持久化数据进行CRUD操作的对象</p>
<p>就是将数据库操作都封装起来。</p>
<p>实现以下几个部分：</p>
<ul>
<li>DAO接口：把对数据库的所有操作定义成抽象方法，可以提供多种实现</li>
<li>DAO实现类：针对不同数据库给出DAO接口定义方法的具体实现</li>
<li>实体类：用于存放与传输对象数据</li>
<li>数据库连接和关闭工具类</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//DAO 接⼝:</span><br><span class="line">public interface PetDao &#123;</span><br><span class="line"> /**</span><br><span class="line"> * 查询所有宠物</span><br><span class="line"> */</span><br><span class="line"> List&lt;Pet&gt; findAllPets() throws Exception;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">//DAO 实现类:</span><br><span class="line">public class PetDaoImpl extends BaseDao implements PetDao &#123;</span><br><span class="line"> /**</span><br><span class="line"> * 查询所有宠物</span><br><span class="line"> */</span><br><span class="line"> public List&lt;Pet&gt; findAllPets() throws Exception &#123;</span><br><span class="line"> Connection conn=BaseDao.getConnection();</span><br><span class="line"> String sql=&quot;select * from pet&quot;;</span><br><span class="line"> PreparedStatement stmt= conn.prepareStatement(sql);</span><br><span class="line"> ResultSet rs= stmt.executeQuery();</span><br><span class="line"> List&lt;Pet&gt; petList=new ArrayList&lt;Pet&gt;();</span><br><span class="line"> while(rs.next()) &#123;</span><br><span class="line"> Pet pet=new Pet(</span><br><span class="line"> rs.getInt(&quot;id&quot;),</span><br><span class="line"> rs.getInt(&quot;owner_id&quot;),</span><br><span class="line"> rs.getInt(&quot;store_id&quot;),</span><br><span class="line"> rs.getString(&quot;name&quot;),</span><br><span class="line"> rs.getString(&quot;type_name&quot;),</span><br><span class="line"> rs.getInt(&quot;health&quot;),</span><br><span class="line"> rs.getInt(&quot;love&quot;),</span><br><span class="line"> rs.getDate(&quot;birthday&quot;)</span><br><span class="line"> );</span><br><span class="line"> petList.add(pet);</span><br><span class="line"> &#125;</span><br><span class="line"> BaseDao.closeAll(conn, stmt, rs);</span><br><span class="line"> return petList;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//宠物实体类(省略了getter和setter⽅法)</span><br><span class="line">public class Pet &#123;</span><br><span class="line"> private Integer id; </span><br><span class="line"> private Integer ownerId; //主⼈ID</span><br><span class="line"> private Integer storeId; //商店ID</span><br><span class="line"> private String name; //姓名</span><br><span class="line"> private String typeName; //类型</span><br><span class="line"> private int health; //健康值</span><br><span class="line"> private int love; //爱⼼值</span><br><span class="line"> private Date birthday; //⽣⽇</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">//通过JDBC连接数据库</span><br><span class="line">public class BaseDao &#123;</span><br><span class="line"> private static String driver=&quot;com.mysql.jdbc.Driver&quot;;</span><br><span class="line"> private static String url=&quot;jdbc:mysql://127.0.0.1:3306/epet&quot;;</span><br><span class="line"> private static String user=&quot;root&quot;;</span><br><span class="line"> private static String password=&quot;root&quot;;</span><br><span class="line"> static &#123;</span><br><span class="line"> try &#123;</span><br><span class="line"> Class.forName(driver);</span><br><span class="line"> &#125; catch (ClassNotFoundException e) &#123;</span><br><span class="line"> e.printStackTrace();</span><br><span class="line"> &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> public static Connection getConnection() throws SQLException &#123;</span><br><span class="line"> return DriverManager.getConnection(url, user, password); </span><br><span class="line"> &#125;</span><br><span class="line"> public static void closeAll(Connection conn,Statement stmt,ResultSet rs) </span><br><span class="line">throws SQLException &#123;</span><br><span class="line"> if(rs!=null) &#123;</span><br><span class="line"> rs.close();</span><br><span class="line"> &#125;</span><br><span class="line"> if(stmt!=null) &#123;</span><br><span class="line"> stmt.close();</span><br><span class="line"> &#125;</span><br><span class="line"> if(conn!=null) &#123;</span><br><span class="line"> conn.close();</span><br><span class="line"> &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">public int executeSQL(String preparedSql, Object[] param) throws ClassNotFoundException &#123;</span><br><span class="line"> Connection conn = null;</span><br><span class="line"> PreparedStatement pstmt = null;</span><br><span class="line"> /* 处理SQL,执⾏SQL */</span><br><span class="line"> try &#123;</span><br><span class="line"> conn = getConnection(); // 得到数据库连接</span><br><span class="line"> pstmt = conn.prepareStatement(preparedSql); // 得到PreparedStatement对象</span><br><span class="line"> if (param != null) &#123;</span><br><span class="line"> for (int i = 0; i &lt; param.length; i++) &#123;</span><br><span class="line"> pstmt.setObject(i + 1, param[i]); // 为预编译sql设置参数</span><br><span class="line"> &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> ResultSet num = pstmt.executeQuery(); // 执⾏SQL语句</span><br><span class="line"> &#125; catch (SQLException e) &#123;</span><br><span class="line"> e.printStackTrace(); // 处理SQLException异常</span><br><span class="line"> &#125; finally &#123;</span><br><span class="line"> try &#123;</span><br><span class="line"> BaseDao.closeAll(conn, pstmt, null);</span><br><span class="line"> &#125; catch (SQLException e) &#123; </span><br><span class="line"> e.printStackTrace();</span><br><span class="line"> &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> return 0;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用MySQL时添加如下依赖：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--mysql--&gt;</span><br><span class="line"> &lt;dependency&gt;</span><br><span class="line"> &lt;groupId&gt;mysql&lt;/groupId&gt;</span><br><span class="line"> &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><br><span class="line"> &lt;scope&gt;runtime&lt;/scope&gt;</span><br><span class="line"> &lt;/dependency&gt;</span><br></pre></td></tr></table></figure>
<p>在application.yml中修改用户密码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">spring:</span><br><span class="line"> datasource:</span><br><span class="line"> url: jdbc:mysql://localhost:3306/mysql_test</span><br><span class="line"> username: root</span><br><span class="line"> password: root</span><br><span class="line"> driver: com.mysql.jdbc.Driver</span><br></pre></td></tr></table></figure>
<h2 id="六-mybatis"><a class="markdownIt-Anchor" href="#六-mybatis"></a> 六、Mybatis</h2>
<p>ORM：结合面向编程的思想，可以将关系数据库中的关系用对象来表达。需要对象关系映射（Object Relation Mapping）</p>
<p>例如，如果要执行：<br />
SELECT id, first_name, last_name, phone, birth_date, sex FROM persons WHERE id = 10</p>
<p>如果是逻辑代码，就是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">res = db.execSql(sql); </span><br><span class="line">name = res[0][&quot;FIRST_NAME&quot;];</span><br></pre></td></tr></table></figure>
<p>如果是ORM，就是</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p = Person.get(10);</span><br><span class="line">name = p.first_name</span><br></pre></td></tr></table></figure>
<p>ORM具体框架：</p>
<p>最上层是数据访问接口，中间是数据处理层</p>
<p><img src="p/%E4%B8%89%E5%B1%82.png" alt="" /></p>
<p>ORM是Object和Relation之间的映射</p>
<ul>
<li>Object-&gt;Relation</li>
<li>Relation-&gt;Object</li>
</ul>
<p>Hibernate和MyBatis是常见的两种ORM模型</p>
<ul>
<li>Hibernate是个完整的ORM框架</li>
<li>MyBatis完成的是Relation-&gt;Object</li>
</ul>
<p>Mybatis的安装与使用：只需将 mybatis-x.x.x.jar ⽂件置于类路径（classpath）中即可</p>
<p>使用Maven：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line"> &lt;groupId&gt;org.mybatis&lt;/groupId&gt;</span><br><span class="line"> &lt;artifactId&gt;mybatis&lt;/artifactId&gt;</span><br><span class="line"> &lt;version&gt;x.x.x&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>
<p>SpringBoot中</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--spring boot mybatis--&gt;</span><br><span class="line"> &lt;dependency&gt;</span><br><span class="line"> &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;</span><br><span class="line"> &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;</span><br><span class="line"> &lt;version&gt;2.1.4&lt;/version&gt;</span><br><span class="line"> &lt;/dependency&gt;</span><br></pre></td></tr></table></figure>
<p>具体的MyBatis相关的文件包括</p>
<p><img src="p/mapper.png" alt="" /></p>
<p>XML文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@Mapper</span><br><span class="line">@Repository</span><br><span class="line">public interface AdminMapper &#123;</span><br><span class="line"> int addManager(User user);</span><br><span class="line"> List&lt;User&gt; getAllManagers();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>PO对象</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">public class User &#123; //省略getter、setter</span><br><span class="line"> private Integer id;</span><br><span class="line"> private String email;</span><br><span class="line"> private String password;</span><br><span class="line"> private String userName;</span><br><span class="line"> private String phoneNumber;</span><br><span class="line"> private double credit;</span><br><span class="line"> private UserType userType;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Mapper实现的XML文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</span><br><span class="line">&lt;mapper namespace=&quot;com.example.hotel.data.admin.AdminMapper&quot;&gt;</span><br><span class="line"> &lt;insert id=&quot;addManager&quot; parameterType=&quot;com.example.hotel.po.User&quot; useGeneratedKeys=&quot;true&quot; keyProperty=&quot;id&quot;&gt;</span><br><span class="line"> insert into User(email,password,usertype)</span><br><span class="line"> values(#&#123;email&#125;,#&#123;password&#125;,#&#123;userType&#125;)</span><br><span class="line"> &lt;/insert&gt;</span><br><span class="line"> &lt;select id=&quot;getAllManagers&quot; resultMap=&quot;User&quot;&gt;</span><br><span class="line"> select * from User where usertype=&#x27;HotelManager&#x27;</span><br><span class="line"> &lt;/select&gt;</span><br><span class="line"> &lt;resultMap id=&quot;User&quot; type=&quot;com.example.hotel.po.User&quot;&gt;</span><br><span class="line"> &lt;id column=&quot;id&quot; property=&quot;id&quot;&gt;&lt;/id&gt;</span><br><span class="line"> &lt;result column=&quot;email&quot; property=&quot;email&quot;&gt;&lt;/result&gt;</span><br><span class="line"> &lt;result column=&quot;password&quot; property=&quot;password&quot;&gt;&lt;/result&gt;</span><br><span class="line"> &lt;result column=&quot;username&quot; property=&quot;userName&quot;&gt;&lt;/result&gt;</span><br><span class="line"> &lt;result column=&quot;phonenumber&quot; property=&quot;phoneNumber&quot;&gt;&lt;/result&gt;</span><br><span class="line"> &lt;result column=&quot;credit&quot; property=&quot;credit&quot;&gt;&lt;/result&gt;</span><br><span class="line"> &lt;result column=&quot;usertype&quot; property=&quot;userType&quot;&gt;&lt;/result&gt;</span><br><span class="line"> &lt;/resultMap&gt;</span><br><span class="line">&lt;/mapper&gt;</span><br></pre></td></tr></table></figure>
<p>项目POM文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--mybatis--&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line"> &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;</span><br><span class="line"> &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;</span><br><span class="line"> &lt;version&gt;2.1.0&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line"> &lt;groupId&gt;mysql&lt;/groupId&gt;</span><br><span class="line"> &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><br><span class="line"> &lt;scope&gt;runtime&lt;/scope&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>application.yml文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">spring:</span><br><span class="line"> datasource:</span><br><span class="line"> url: jdbc:mysql://localhost:3306/Hotel?serverTimezone=CTT&amp;characterEncoding=UTF-8</span><br><span class="line"> username: root</span><br><span class="line"> password: ******</span><br><span class="line"> driver-class-name: com.mysql.cj.jdbc.Driver</span><br><span class="line"> max-active: 200</span><br><span class="line"> max-idle: 20</span><br><span class="line"> min-idle: 10</span><br><span class="line"> thymeleaf:</span><br><span class="line"> cache: false</span><br><span class="line"> jackson:</span><br><span class="line"> time-zone: GMT+8</span><br><span class="line">mybatis:</span><br><span class="line"> mapper-locations: classpath:dataImpl/*/*Mapper.xml</span><br></pre></td></tr></table></figure>
<h2 id="七-spring-boot-mybatis"><a class="markdownIt-Anchor" href="#七-spring-boot-mybatis"></a> 七、Spring Boot + Mybatis</h2>
<p>项目结构</p>
<p><img src="p/%E7%BB%93%E6%9E%84.png" alt="" /></p>
<p>后端调用流程：controller-&gt;bl-&gt;blImpl-&gt;data-&gt;dataImpl</p>
<h3 id="controller-2"><a class="markdownIt-Anchor" href="#controller-2"></a> controller</h3>
<p><img src="p/control.png" alt="" /></p>
<p>源代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">@RestController</span><br><span class="line">@RequestMapping(&quot;/api/coupon&quot;)</span><br><span class="line">public class CouponController &#123;</span><br><span class="line"> @Autowired</span><br><span class="line"> private CouponService couponService;</span><br><span class="line"> @PostMapping(&quot;/hotelTargetMoney&quot;)</span><br><span class="line"> public ResponseVO </span><br><span class="line">addHotelTargetMoneyCoupon(@RequestBody </span><br><span class="line">HotelTargetMoneyCouponVO hotelTargetMoneyCouponVO) &#123;</span><br><span class="line"> CouponVO couponVO = </span><br><span class="line">couponService.addHotelTargetMoneyCoupon(hotelTargetMoneyCou</span><br><span class="line">ponVO);</span><br><span class="line"> return ResponseVO.buildSuccess(couponVO);</span><br><span class="line"> &#125;</span><br><span class="line"> @GetMapping(&quot;/hotelAllCoupons&quot;)</span><br><span class="line"> public ResponseVO getHotelAllCoupons(@RequestParam Integer </span><br><span class="line">hotelId) &#123;</span><br><span class="line"> return </span><br><span class="line">ResponseVO.buildSuccess(couponService.getHotelAllCoupon(hotelI</span><br><span class="line">d));</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="bl"><a class="markdownIt-Anchor" href="#bl"></a> bl:</h3>
<p><img src="p/bl.png" alt="" /></p>
<p>代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">public interface CouponService &#123;</span><br><span class="line"> /**</span><br><span class="line"> * 返回某⼀订单可⽤的优惠策略列表</span><br><span class="line"> * @param orderVO</span><br><span class="line"> * @return</span><br><span class="line"> */</span><br><span class="line"> List&lt;Coupon&gt; getMatchOrderCoupon(OrderVO </span><br><span class="line">orderVO); ## Use CouponVO instead of Coupon</span><br><span class="line"> /**</span><br><span class="line"> * 查看某个酒店提供的所有优惠策略（包括失效</span><br><span class="line">的）</span><br><span class="line"> * @param hotelId</span><br><span class="line"> * @return</span><br><span class="line"> */</span><br><span class="line"> List&lt;Coupon&gt; getHotelAllCoupon(Integer </span><br><span class="line">hotelId);</span><br><span class="line"> /**</span><br><span class="line"> * 添加酒店满减优惠策略</span><br><span class="line"> * @param couponVO</span><br><span class="line"> * @return</span><br><span class="line"> */</span><br><span class="line"> CouponVO </span><br><span class="line">addHotelTargetMoneyCoupon(HotelTargetMoneyC</span><br><span class="line">ouponVO couponVO);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="bllmpl"><a class="markdownIt-Anchor" href="#bllmpl"></a> bllmpl</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">@Service</span><br><span class="line">public class CouponServiceImpl implements CouponService &#123;</span><br><span class="line"> private final TargetMoneyCouponStrategyImpl targetMoneyCouponStrategy;</span><br><span class="line"> private final TimeCouponStrategyImpl timeCouponStrategy;</span><br><span class="line"> private final CouponMapper couponMapper;</span><br><span class="line"> private static List&lt;CouponMatchStrategy&gt; strategyList = new ArrayList&lt;&gt;();</span><br><span class="line"> @Autowired</span><br><span class="line"> public CouponServiceImpl(TargetMoneyCouponStrategyImpl targetMoneyCouponStrategy,</span><br><span class="line"> TimeCouponStrategyImpl timeCouponStrategy,</span><br><span class="line"> CouponMapper couponMapper) &#123;</span><br><span class="line"> this.couponMapper = couponMapper;</span><br><span class="line"> this.targetMoneyCouponStrategy = targetMoneyCouponStrategy;</span><br><span class="line"> this.timeCouponStrategy = timeCouponStrategy;</span><br><span class="line"> strategyList.add(targetMoneyCouponStrategy);</span><br><span class="line"> strategyList.add(timeCouponStrategy);</span><br><span class="line"> &#125;</span><br><span class="line"> @Override</span><br><span class="line"> public List&lt;Coupon&gt; getMatchOrderCoupon(OrderVO orderVO) &#123;</span><br><span class="line"> List&lt;Coupon&gt; hotelCoupons = getHotelAllCoupon(orderVO.getHotelId());</span><br><span class="line"> List&lt;Coupon&gt; availAbleCoupons = new ArrayList&lt;&gt;();</span><br><span class="line"> for (int i = 0; i &lt; hotelCoupons.size(); i++) &#123;</span><br><span class="line"> for (CouponMatchStrategy strategy : strategyList) &#123;</span><br><span class="line"> if (strategy.isMatch(orderVO, hotelCoupons.get(i))) &#123;</span><br><span class="line"> availAbleCoupons.add(hotelCoupons.get(i));</span><br><span class="line"> &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> return availAbleCoupons;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> @Override</span><br><span class="line"> public List&lt;Coupon&gt; </span><br><span class="line">getHotelAllCoupon(Integer hotelId) &#123;</span><br><span class="line"> List&lt;Coupon&gt; hotelCoupons = </span><br><span class="line">couponMapper.selectByHotelId(hotelId);</span><br><span class="line"> return hotelCoupons;</span><br><span class="line"> &#125;</span><br><span class="line"> @Override</span><br><span class="line"> public CouponVO </span><br><span class="line">addHotelTargetMoneyCoupon(HotelTarge</span><br><span class="line">tMoneyCouponVO couponVO) &#123;</span><br><span class="line"> Coupon coupon = new Coupon();</span><br><span class="line"> </span><br><span class="line">coupon.setCouponName(couponVO.getN</span><br><span class="line">ame());</span><br><span class="line"> </span><br><span class="line">coupon.setDescription(couponVO.getDes</span><br><span class="line">cription());</span><br><span class="line"> </span><br><span class="line">coupon.setCouponType(couponVO.getTy</span><br><span class="line">pe());</span><br><span class="line"> </span><br><span class="line">coupon.setTargetMoney(couponVO.getTa</span><br><span class="line">rgetMoney());</span><br><span class="line"> </span><br><span class="line">coupon.setHotelId(couponVO.getHotelId()</span><br><span class="line">);</span><br><span class="line"> </span><br><span class="line">coupon.setDiscountMoney(couponVO.get</span><br><span class="line">DiscountMoney());</span><br><span class="line"> coupon.setStatus(1);</span><br><span class="line"> int result = </span><br><span class="line">couponMapper.insertCoupon(coupon);</span><br><span class="line"> couponVO.setId(result);</span><br><span class="line"> return couponVO;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="data"><a class="markdownIt-Anchor" href="#data"></a> data</h3>
<p><img src="p/data.png" alt="" /></p>
<p>代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">package com.example.hotel.data.coupon;</span><br><span class="line">import com.example.hotel.po.Coupon;</span><br><span class="line">import org.apache.ibatis.annotations.Mapper;</span><br><span class="line">import org.springframework.stereotype.Repository;</span><br><span class="line">import java.util.List;</span><br><span class="line">@Mapper</span><br><span class="line">@Repository</span><br><span class="line">public interface CouponMapper &#123;</span><br><span class="line"> int insertCoupon(Coupon coupon);</span><br><span class="line"> List&lt;Coupon&gt; selectByHotelId(Integer hotelId);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="dataimpl"><a class="markdownIt-Anchor" href="#dataimpl"></a> dataimpl</h3>
<p><img src="p/impl.png" alt="" /></p>
<p>代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="line">&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://</span><br><span class="line">mybatis.org/dtd/mybatis-3-mapper.dtd&quot; &gt;</span><br><span class="line">&lt;mapper namespace=&quot;com.example.hotel.data.coupon.CouponMapper&quot;&gt;</span><br><span class="line"> &lt;insert id=&quot;insertCoupon&quot; parameterType=&quot;com.example.hotel.po.Coupon&quot;</span><br><span class="line"> useGeneratedKeys=&quot;true&quot; keyProperty=&quot;id&quot;&gt;</span><br><span class="line"> insert into </span><br><span class="line">coupon(description,couponName,target_money,discount_money,start_time,end_tim</span><br><span class="line">e,hotelId,couponType,discount,status)</span><br><span class="line"> </span><br><span class="line">values(#&#123;description&#125;,#&#123;couponName&#125;,#&#123;targetMoney&#125;,#&#123;discountMoney&#125;,#&#123;startTim</span><br><span class="line">e&#125;,#&#123;endTime&#125;,#&#123;hotelId&#125;,#&#123;couponType&#125;,#&#123;discount&#125;,#&#123;status&#125;)</span><br><span class="line"> &lt;/insert&gt; &lt;!-- 插⼊⼀个优惠券 --&gt;</span><br><span class="line"> &lt;select id=&quot;selectByHotelId&quot; resultMap=&quot;Coupon&quot;&gt;</span><br><span class="line"> select * from Coupon where hotelId=#&#123;hotelId&#125;</span><br><span class="line"> &lt;/select&gt;</span><br><span class="line">&lt;/mapper&gt;</span><br><span class="line"></span><br><span class="line">&lt;resultMap id=&quot;Coupon&quot; type=&quot;com.example.hotel.po.Coupon&quot;&gt;</span><br><span class="line"> &lt;result column=&quot;description&quot; property=&quot;description&quot;&gt;&lt;/result&gt;</span><br><span class="line"> &lt;result column=&quot;id&quot; property=&quot;id&quot;&gt;&lt;/result&gt;</span><br><span class="line"> &lt;result column=&quot;couponName&quot; property=&quot;couponName&quot;&gt;&lt;/result&gt;</span><br><span class="line"> &lt;result column=&quot;hotelId&quot; property=&quot;hotelId&quot;&gt;&lt;/result&gt;</span><br><span class="line"> &lt;result column=&quot;couponType&quot; property=&quot;couponType&quot;&gt;&lt;/result&gt;</span><br><span class="line"> &lt;result column=&quot;discount&quot; property=&quot;discount&quot;&gt;&lt;/result&gt;</span><br><span class="line"> &lt;result column=&quot;status&quot; property=&quot;status&quot;&gt;&lt;/result&gt;</span><br><span class="line"> &lt;result column=&quot;target_money&quot; property=&quot;targetMoney&quot;&gt;&lt;/result&gt;</span><br><span class="line"> &lt;result column=&quot;discount_money&quot; property=&quot;discountMoney&quot;&gt;&lt;/result&gt;</span><br><span class="line"> &lt;result column=&quot;start_time&quot; property=&quot;startTime&quot;&gt;&lt;/result&gt;</span><br><span class="line"> &lt;result column=&quot;end_time&quot; property=&quot;endTime&quot;&gt;&lt;/result&gt;</span><br><span class="line"> &lt;/resultMap&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

            
        </div>
        <footer class="article-footer">
            <a data-url="https://eternalzero2022.github.io/2024/03/21/07-Java-Web%E5%BC%80%E5%8F%91/" data-id="clu1afyy40000osuw0fgr1gu8" data-title="07-Java-Web开发"
               class="article-share-link">分享</a>
            
            
            
            

        </footer>
    </div>
    
        
    <nav id="article-nav" class="wow fadeInUp">
        
            <div class="article-nav-link-wrap article-nav-link-left">
                
                    
                    
                        <img data-src="https://d-sketon.top/img/backimg/bg1.jpg" data-sizes="auto" alt="编理-第一章-引论" class="lazyload">
                    
                
                <a href="/2024/03/23/%E7%BC%96%E7%90%86-%E7%AC%AC%E4%B8%80%E7%AB%A0-%E5%BC%95%E8%AE%BA/"></a>
                <div class="article-nav-caption">前一篇</div>
                <h3 class="article-nav-title">
                    
                        编理-第一章-引论
                    
                </h3>
            </div>
        
        
            <div class="article-nav-link-wrap article-nav-link-right">
                
                    
                    
                        <img data-src="https://d-sketon.top/img/backimg/bg1.jpg" data-sizes="auto" alt="05-需求文档化与验证" class="lazyload">
                    
                
                <a href="/2024/03/19/05-%E9%9C%80%E6%B1%82%E6%96%87%E6%A1%A3%E5%8C%96%E4%B8%8E%E9%AA%8C%E8%AF%81/"></a>
                <div class="article-nav-caption">后一篇</div>
                <h3 class="article-nav-title">
                    
                        05-需求文档化与验证
                    
                </h3>
            </div>
        
    </nav>


    
</article>











</section>
                
                    <aside id="sidebar">
    <div class="sidebar-wrap wow fadeInRight">
        <div class="sidebar-author">
            <img data-src="/avatar/avatar.jpg" data-sizes="auto" alt="EternalZero2022" class="lazyload">
            <div class="sidebar-author-name">EternalZero2022</div>
            <div class="sidebar-description">卑微软工狗一个，属于德克萨斯小姐</div>
        </div>
        <div class="sidebar-state">
            <div class="sidebar-state-article">
                <div>文章</div>
                <div class="sidebar-state-number">81</div>
            </div>
            <div class="sidebar-state-category">
                <div>分类</div>
                <div class="sidebar-state-number">3</div>
            </div>
            <div class="sidebar-state-tag">
                <div>标签</div>
                <div class="sidebar-state-number">0</div>
            </div>
        </div>
        <div class="sidebar-social">
            
                <div class=icon-github>
                    <a href=https://github.com/eternalzero2022 itemprop="url" target="_blank"></a>
                </div>
            
                <div class=icon-google>
                    <a href=https://plus.google.com/yourname itemprop="url" target="_blank"></a>
                </div>
            
                <div class=icon-twitter>
                    <a href=https://twitter.com/yourname itemprop="url" target="_blank"></a>
                </div>
            
                <div class=icon-facebook>
                    <a href=https://www.facebook.com/yourname itemprop="url" target="_blank"></a>
                </div>
            
        </div>
        <div class="sidebar-menu">
            
                <div class="sidebar-menu-link-wrap">
                    <a class="sidebar-menu-link-dummy" href="/"></a>
                    <span class="sidebar-menu-icon"></span>
                    <div class="sidebar-menu-link">首页</div>
                </div>
            
                <div class="sidebar-menu-link-wrap">
                    <a class="sidebar-menu-link-dummy" href="/archives"></a>
                    <span class="sidebar-menu-icon"></span>
                    <div class="sidebar-menu-link">归档</div>
                </div>
            
                <div class="sidebar-menu-link-wrap">
                    <a class="sidebar-menu-link-dummy" href="/about"></a>
                    <span class="sidebar-menu-icon"></span>
                    <div class="sidebar-menu-link">关于</div>
                </div>
            
                <div class="sidebar-menu-link-wrap">
                    <a class="sidebar-menu-link-dummy" href="/friend"></a>
                    <span class="sidebar-menu-icon"></span>
                    <div class="sidebar-menu-link">友链</div>
                </div>
            
        </div>
    </div>
    
        
    <div class="widget-wrap wow fadeInRight">
        <h3 class="widget-title">分类</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A8%B1%E4%B9%90/">娱乐</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BB%8F%E9%AA%8C-%E6%9D%82%E8%B0%88/">经验/杂谈</a></li></ul>
        </div>
    </div>


    
        

    
        
    <div class="widget-wrap wow fadeInRight">
        <h3 class="widget-title">归档</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">三月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">二月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">一月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">十二月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">十一月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">十月 2023</a></li></ul>
        </div>
    </div>


    
</aside>

                
            </div>
            <footer id="footer" class="wow fadeInUp">
    <div style="width: 100%; overflow: hidden"><div class="footer-line"></div></div>
    <div class="outer">
        <div id="footer-info" class="inner">
            
            <div>
                <span class="icon-copyright"></span>
                2020-2024
                <span class="footer-info-sep"></span>
                EternalZero2022
            </div>
            
                <div>
                    基于&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>&nbsp;
                    Theme.<a href="https://github.com/D-Sketon/hexo-theme-reimu" target="_blank">Reimu</a>
                </div>
            
            
                <div>
                    <span class="icon-brush"></span>
                    208.1k
                    &nbsp;|&nbsp;
                    <span class="icon-coffee"></span>
                    12:31
                </div>
            
            
                <div>
                    <span class="icon-eye"></span>
                    <span id="busuanzi_container_site_pv">总访问量&nbsp;<span id="busuanzi_value_site_pv"></span></span>
                    &nbsp;|&nbsp;
                    <span class="icon-user"></span>
                    <span id="busuanzi_container_site_uv">总访客量&nbsp;<span id="busuanzi_value_site_uv"></span></span>
                </div>
            
        </div>
    </div>
</footer>

        </div>
        <nav id="mobile-nav">
    <div class="sidebar-wrap">
        <div class="sidebar-author">
            <img data-src="/avatar/avatar.jpg" data-sizes="auto" alt="EternalZero2022" class="lazyload">
            <div class="sidebar-author-name">EternalZero2022</div>
            <div class="sidebar-description">卑微软工狗一个，属于德克萨斯小姐</div>
        </div>
        <div class="sidebar-state">
            <div class="sidebar-state-article">
                <div>文章</div>
                <div class="sidebar-state-number">81</div>
            </div>
            <div class="sidebar-state-category">
                <div>分类</div>
                <div class="sidebar-state-number">3</div>
            </div>
            <div class="sidebar-state-tag">
                <div>标签</div>
                <div class="sidebar-state-number">0</div>
            </div>
        </div>
        <div class="sidebar-social">
            
                <div class=icon-github>
                    <a href=https://github.com/eternalzero2022 itemprop="url" target="_blank"></a>
                </div>
            
                <div class=icon-google>
                    <a href=https://plus.google.com/yourname itemprop="url" target="_blank"></a>
                </div>
            
                <div class=icon-twitter>
                    <a href=https://twitter.com/yourname itemprop="url" target="_blank"></a>
                </div>
            
                <div class=icon-facebook>
                    <a href=https://www.facebook.com/yourname itemprop="url" target="_blank"></a>
                </div>
            
        </div>
        <div class="sidebar-menu">
            
                <div class="sidebar-menu-link-wrap">
                    <a class="sidebar-menu-link-dummy" href="/"></a>
                    <span class="sidebar-menu-icon"></span>
                    <div class="sidebar-menu-link">首页</div>
                </div>
            
                <div class="sidebar-menu-link-wrap">
                    <a class="sidebar-menu-link-dummy" href="/archives"></a>
                    <span class="sidebar-menu-icon"></span>
                    <div class="sidebar-menu-link">归档</div>
                </div>
            
                <div class="sidebar-menu-link-wrap">
                    <a class="sidebar-menu-link-dummy" href="/about"></a>
                    <span class="sidebar-menu-icon"></span>
                    <div class="sidebar-menu-link">关于</div>
                </div>
            
                <div class="sidebar-menu-link-wrap">
                    <a class="sidebar-menu-link-dummy" href="/friend"></a>
                    <span class="sidebar-menu-icon"></span>
                    <div class="sidebar-menu-link">友链</div>
                </div>
            
        </div>
    </div>
</nav>

        
<script src="https://unpkg.com/jquery@3.7.0/dist/jquery.min.js"></script>


<script src="https://unpkg.com/lazysizes@5.3.2/lazysizes.min.js"></script>


<script src="https://unpkg.com/clipboard@2.0.11/dist/clipboard.min.js"></script>



    
<script src="https://unpkg.com/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>



    
<script src="https://unpkg.com/busuanzi@2.3.0/bsz.pure.mini.js"></script>






<script src="/js/script.js"></script>
















    </div>
    <div class="site-search">
        <div class="algolia-popup popup">
            <div class="algolia-search">
                <span class="algolia-search-input-icon"></span>
                <div class="algolia-search-input" id="algolia-search-input"></div>
            </div>

            <div class="algolia-results">
                <div id="algolia-stats"></div>
                <div id="algolia-hits"></div>
                <div id="algolia-pagination" class="algolia-pagination"></div>
            </div>

            <span class="popup-btn-close"></span>
        </div>
    </div>
    <!-- hexo injector body_end start -->
<script src="/js/insertHighlight.js"></script>
<!-- hexo injector body_end end --></body>
    </html>

