
    <!DOCTYPE html>
    <html lang="zh-CN"
            
          
    >
    <head>
    <meta charset="utf-8">
    

    

    
    <title>
        路由协议 |
        
        EternalZero2022 的博客</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CUbuntu%20Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
    
<link rel="stylesheet" href="https://unpkg.com/@fortawesome/fontawesome-free/css/v4-font-face.min.css">

    
<link rel="stylesheet" href="/css/loader.css">

    <meta name="description" content="本文主要参考自EagleBear2002的博客  路由协议  1、 RIP协议  RIPv1 一种内部网关协议（interior gateway protocol），向每个邻居路由器广播路由表，默认间隔30秒，最初在RFC-1058中定义  使用跳数作为度量标准（每经过一个路由器就+1），最大为15（达到16时相当于不可达） 能够在多达6个等价路径上达到负载平衡，默认为4个。  **负载平衡：**">
<meta property="og:type" content="article">
<meta property="og:title" content="路由协议">
<meta property="og:url" content="https://eternalzero2022.github.io/2023/12/26/%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE/index.html">
<meta property="og:site_name" content="EternalZero2022 的博客">
<meta property="og:description" content="本文主要参考自EagleBear2002的博客  路由协议  1、 RIP协议  RIPv1 一种内部网关协议（interior gateway protocol），向每个邻居路由器广播路由表，默认间隔30秒，最初在RFC-1058中定义  使用跳数作为度量标准（每经过一个路由器就+1），最大为15（达到16时相当于不可达） 能够在多达6个等价路径上达到负载平衡，默认为4个。  **负载平衡：**">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://eternalzero2022.github.io/2023/12/26/%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE/p/v2v1.png">
<meta property="og:image" content="https://eternalzero2022.github.io/2023/12/26/%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE/p/OSPF%E5%8C%BA%E5%9F%9F.png">
<meta property="og:image" content="https://eternalzero2022.github.io/2023/12/26/%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE/p/hello%E6%8A%A5%E6%96%87.png">
<meta property="og:image" content="https://eternalzero2022.github.io/2023/12/26/%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE/p/hello.png">
<meta property="og:image" content="https://eternalzero2022.github.io/2023/12/26/%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE/p/exchange.png">
<meta property="og:image" content="https://eternalzero2022.github.io/2023/12/26/%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE/p/%E6%A3%80%E6%9F%A5.png">
<meta property="og:image" content="https://eternalzero2022.github.io/2023/12/26/%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE/p/%E8%B7%AF%E7%94%B1%E5%8F%98%E5%8C%96.png">
<meta property="article:published_time" content="2023-12-26T09:20:29.000Z">
<meta property="article:modified_time" content="2023-12-26T09:20:47.443Z">
<meta property="article:author" content="EternalZero2022">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://eternalzero2022.github.io/2023/12/26/%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE/p/v2v1.png">
    
        <link rel="alternate" href="/atom.xml" title="EternalZero2022 的博客" type="application/atom+xml">
    
    
        <link rel="shortcut icon" href="/images/favicon.ico">
    
    
        
<link rel="stylesheet" href="https://unpkg.com/typeface-source-code-pro@1.1.13/index.css">

    
    
<link rel="stylesheet" href="/css/style.css">

    
        
<link rel="stylesheet" href="https://unpkg.com/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">

    
    
        
<link rel="stylesheet" href="https://unpkg.com/katex@0.16.7/dist/katex.min.css">

    
    
    
    
<script src="https://unpkg.com/pace-js@1.2.4/pace.min.js"></script>

    
        
<link rel="stylesheet" href="https://unpkg.com/wowjs@1.1.3/css/libs/animate.css">

        
<script src="https://unpkg.com/wowjs@1.1.3/dist/wow.min.js"></script>

        <script>
          new WOW({
            offset: 0,
            mobile: true,
            live: false
          }).init();
        </script>
    
<meta name="generator" content="Hexo 6.3.0"></head>

    <body>
    
<div id='loader'>
  <div class="loading-left-bg"></div>
  <div class="loading-right-bg"></div>
  <div class="spinner-box">
    <div class="loading-taichi">
      <svg width="150" height="150" viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision">
      <path d="M303.5 432A80 80 0 0 1 291.5 592A80 80 0 0 1 303.5 432z" fill="#ff6e6b" />
      <path d="M512 65A447 447 0 0 1 512 959L512 929A417 417 0 0 0 512 95A417 417 0 0 0 512 929L512 959A447 447 0 0 1 512 65z" fill="#fd0d00" />
      <path d="M512 95A417 417 0 0 1 929 512A208.5 208.5 0 0 1 720.5 720.5L720.5 592A80 80 0 0 0 720.5 432A80 80 0 0 0 720.5 592L720.5 720.5A208.5 208.5 0 0 1 512 512A208.5 208.5 0 0 0 303.5 303.5A208.5 208.5 0 0 0 95 512A417 417 0 0 1 512 95" fill="#fd0d00" />
    </svg>
    </div>
    <div class="loading-word">少女祈祷中...</div>
  </div>
</div>
</div>

<script>
  const endLoading = function() {
    document.body.style.overflow = 'auto';
    document.getElementById('loader').classList.add("loading");
  }
  window.addEventListener('load', endLoading);
  document.getElementById('loader').addEventListener('click', endLoading);
</script>


    <div id="container">
        <div id="wrap">
            <header id="header">
    
        <img data-src="/images/banner.jpg" data-sizes="auto" alt="路由协议" class="lazyload">
    
    <div id="header-outer" class="outer">
        <div id="header-title" class="inner">
            <div id="logo-wrap">
                
                    
                    
                        <a href="/" id="logo"><h1>路由协议</h1></a>
                    
                
            </div>
            
                
                
            
        </div>
        <div id="header-inner">
            <nav id="main-nav">
                <a id="main-nav-toggle" class="nav-icon"></a>
                
                    <span class="main-nav-link-wrap">
                        <span class="main-nav-icon"></span>
                        <a class="main-nav-link" href="/">首页</a>
                    </span>
                
                    <span class="main-nav-link-wrap">
                        <span class="main-nav-icon"></span>
                        <a class="main-nav-link" href="/archives">归档</a>
                    </span>
                
                    <span class="main-nav-link-wrap">
                        <span class="main-nav-icon"></span>
                        <a class="main-nav-link" href="/about">关于</a>
                    </span>
                
                    <span class="main-nav-link-wrap">
                        <span class="main-nav-icon"></span>
                        <a class="main-nav-link" href="/friend">友链</a>
                    </span>
                
            </nav>
            <nav id="sub-nav">
                
                    <a id="nav-rss-link" class="nav-icon" href="/atom.xml"
                       title="RSS 订阅"></a>
                
                
            </nav>
            <div id="search-form-wrap">
                <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://eternalzero2022.github.io"></form>
            </div>
        </div>
    </div>
</header>

            <div id="content" class="outer">
                <section id="main"><article id="post-路由协议" class="h-entry article article-type-post"
         itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
    <div class="article-inner">
        <div class="article-meta">
            <div class="article-date wow slideInLeft">
    <a href="/2023/12/26/%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE/" class="article-date-link">
        <time datetime="2023-12-26T09:20:29.000Z"
              itemprop="datePublished">2023-12-26</time>
    </a>
</div>

            

        </div>
        <div class="hr-line"></div>
        

        <div class="e-content article-entry" itemprop="articleBody">
            
                <p>本文主要参考自<a target="_blank" rel="noopener" href="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-08-%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE/">EagleBear2002的博客</a></p>
<h1 id="路由协议"><a class="markdownIt-Anchor" href="#路由协议"></a> 路由协议</h1>
<h2 id="1-rip协议"><a class="markdownIt-Anchor" href="#1-rip协议"></a> 1、 RIP协议</h2>
<h3 id="ripv1"><a class="markdownIt-Anchor" href="#ripv1"></a> RIPv1</h3>
<p>一种内部网关协议（interior gateway protocol），向每个<strong>邻居路由器</strong>广播<strong>路由表</strong>，默认间隔30秒，最初在RFC-1058中定义</p>
<ul>
<li>使用<strong>跳数</strong>作为度量标准（每经过一个路由器就+1），最大为15（达到16时相当于不可达）</li>
<li>能够在多达6个等价路径上达到负载平衡，默认为4个。</li>
</ul>
<p>**负载平衡：**尽可能将网络流平均分发到多个节点，需要满足各个路径跳数相同。</p>
<p><strong>限制：</strong></p>
<ul>
<li>不支持VLSM或CIDR（因为不会在更新中发送子网信息）</li>
<li>不支持身份验证（只要接入网络就可以启动RIP并获取到整个网路的拓扑）</li>
</ul>
<h3 id="ripv2"><a class="markdownIt-Anchor" href="#ripv2"></a> RIPv2</h3>
<p>是RIPV1的改进版本，新增以下功能：</p>
<ul>
<li>使用跳数指标的距离向量协议</li>
<li>使用抑制计时器（holddown timers）、水平分割（split horizon）、防止路由循环，默认180秒（交换时间的6倍）</li>
<li>使用16跳表示无限距离</li>
</ul>
<h3 id="v1和v2的区别"><a class="markdownIt-Anchor" href="#v1和v2的区别"></a> V1和V2的区别</h3>
<p><img src="p/v2v1.png" alt="" /></p>
<ul>
<li>支持有类路由（可以携带子网掩码）</li>
<li>使用组播地址进行发送广播，给特定接收方接收</li>
<li>需要身份认证决定是否继续进行接收</li>
</ul>
<h2 id="2-ospf协议"><a class="markdownIt-Anchor" href="#2-ospf协议"></a> 2、OSPF协议</h2>
<p>开放最短路径优先协议</p>
<ul>
<li>基于开放标准的<strong>链路状态协议</strong>（对比RIP使用的是<strong>距离向量协议</strong>）</li>
<li>定义在RFC-2328中（已经不是最新的了，）</li>
<li>首选的 IGP 协议，因为具有可伸缩性，与RIP相比优势较大</li>
</ul>
<h3 id="路由信息"><a class="markdownIt-Anchor" href="#路由信息"></a> 路由信息</h3>
<ul>
<li>链路状态表示的是对接口的描述以及与相邻路由器的关系</li>
<li>集合形成一个链路状态数据库（link-state database），或者拓扑数据库（topological database）</li>
<li>使用最短路径优先算法Dijkstra shortest path first (SPF)，选择最佳路径并放在路由表中</li>
</ul>
<h3 id="ospf与rip的差别"><a class="markdownIt-Anchor" href="#ospf与rip的差别"></a> OSPF与RIP的差别</h3>
<p>OSPF:用于大型网络，基于带宽，可以将网络分成不同区域(area)，支持VLSM，支持多路负载平衡</p>
<h3 id="ospf特征"><a class="markdownIt-Anchor" href="#ospf特征"></a> OSPF特征</h3>
<ul>
<li>更健壮，更具有可扩展性</li>
<li>可以将大的网络分成多个area，每个area只和 area 0 相连，保证 area 没有回路</li>
<li>层次最多只要两个</li>
</ul>
<h3 id="ospf术语"><a class="markdownIt-Anchor" href="#ospf术语"></a> OSPF术语</h3>
<ul>
<li>连接（Link）：两个设备之间的物理链路</li>
<li>链路状态（Link-State）：物理链路的信息，包括路由器连接关系、通过什么接口、链路带宽、网络类型（点对点、多路复用）等</li>
<li>代价/费用（cost）不同网络链路理的时候的代价，和链路带宽相关，成反比关系，一般是固定值除以带宽</li>
<li>区域（area）：有相同区域号的网段和端口，一个区域内的路由器有相同的链路状态（注意是一个<strong>端口</strong>指定一个area）</li>
<li>自治系统（As）：多个area形成一个自治系统</li>
<li>Neighbours必须在一个Area中，它们之间交换拓扑数据库，当中存的是链路状态</li>
<li>一个area中获得全部 Link-State 后计算 Tree，生成表。</li>
</ul>
<p>路由器中有三种数据库：相邻路由器数据库（存储相邻路由器）、拓扑数据库（存储所有路由器）、路由表（存储最佳路由）</p>
<ul>
<li>指定路由器（DR）：被选举出来，代表区域中的所有路由器</li>
<li>备用指定路由器（BDR）：如果 DR 损坏，BDR 立即成为 DR，目的是提高交换效率。</li>
</ul>
<p><strong>一个区域有且仅有一个DR和BDR</strong></p>
<h3 id="ospf域"><a class="markdownIt-Anchor" href="#ospf域"></a> OSPF域</h3>
<p>一个域由32位组成，可以写作IP或十进制数的格式（Area 0 或Area 0.0.0.0）</p>
<ul>
<li>area 0表示主干区域</li>
<li>使用两级分层模型，多区域OSPF中所有区域都必须连接到主干区域0（且只与Area0相连）</li>
</ul>
<p><img src="p/OSPF%E5%8C%BA%E5%9F%9F.png" alt="" /></p>
<h3 id="ospf行为"><a class="markdownIt-Anchor" href="#ospf行为"></a> OSPF行为：</h3>
<p>OSPF的操作包含5个步骤：</p>
<ul>
<li>建立邻接关系</li>
<li>选择DR和BDR（多路复用中使用）</li>
<li>发现路线</li>
<li>选择合适的路线</li>
<li>维护路由信息</li>
</ul>
<p>OSPF七个状态：</p>
<ul>
<li>初始化（Init）</li>
<li>双向操作（2Way）</li>
<li>预先启动（Ex Start）</li>
<li>交换（Exchange）</li>
<li>加载（Loading）</li>
<li>完成（Full）</li>
</ul>
<p>最短路径算法SPF：</p>
<ul>
<li>使用某个节点作为起点，检查相邻节点来计算无环拓扑（就是数据结构中的算法）</li>
</ul>
<h3 id="dr和bdr"><a class="markdownIt-Anchor" href="#dr和bdr"></a> DR和BDR</h3>
<p>OSPF网路类型</p>
<ul>
<li>广播多路复用网络，例如以太网</li>
<li>点对点网络</li>
<li>非广播多路复用网络（NBMA，Non-broadcast multi-access）</li>
</ul>
<p>DR选举仅用于多路复用的网络（BMA\NBMA），例如BMA（以太网、Token Ring、FDDI），以及NBMA（Frame Relay，X25，SMDS），对于点对点或点对多则不使用（PPP,HDLC、管理员配置等）</p>
<p>为什么要选择DR/BDR？</p>
<ul>
<li>减少节点之间的连接。如果由5个路由器，不使用DR/BDR就要建立4*5/2 = 10个连接。而使用之后则只需要建立5-1 = 4个连接</li>
<li>DR可以作为一个“中转”来进行链路状态更新，区域内的其他路由器都可以连接到DR。</li>
</ul>
<h3 id="ospf报文"><a class="markdownIt-Anchor" href="#ospf报文"></a> OSPF报文</h3>
<p>一共有五种报文：</p>
<ul>
<li>Hello问候报文：用于发现和维持邻站的可达性</li>
<li>Database Description数据库描述报文（DBD）：向邻站给出自己的链路状态摘要信息</li>
<li>Link-State Request链路状态请求报文（LSR）：向对方请求发送某些链路状态项目的详细信息</li>
<li>Link-State Update链路状态更新报文(LSU)：用泛洪法对全网更新链路状态</li>
<li>Link-State Acknowledgement链路状态确认报文(LSAck)：对链路更新分组的确认</li>
</ul>
<h3 id="ospf一些机制"><a class="markdownIt-Anchor" href="#ospf一些机制"></a> OSPF一些机制</h3>
<p>1、Hello协议：当路由器打开OSPF进程时每隔一段时间就会发送，使用IP地址为<strong>224.0.0.5</strong>，默认<strong>每10秒</strong>发送一次（连接到NBMA网段上的则是每30秒发送一次）Hello 几乎是空报文，用于确认邻站的可达性。<br><br />
Hello的Type字段为1</p>
<p><img src="p/hello%E6%8A%A5%E6%96%87.png" alt="" /></p>
<p>2、DR、BDR选举<br />
选择DR标准：</p>
<ul>
<li>首先把优先级（priority）作为标准。优先级越高，权重越高。当优先级相同时把RouterID作为标准。RouterID越高，权重越高。</li>
<li>优先级：范围在1-255之间，默认值为1.如果优先级为0则不参与DR选举</li>
<li>RouterID：如果有环回接口（lo0等端口），就将该端口IP作为RouterID；否则就将物理接口上的最高IP作为RouterID（必须是活跃接口）（注意：环回接口只要你配置了，并且路由器是开的，那么环回接口就一直是active的）</li>
<li>在以上标准下，DR选择的是权重最高的，BDR是权重第二高的。</li>
</ul>
<p>3、信息交换发现路线<br />
以路由器A与路由器B为例：</p>
<p><img src="p/hello.png" alt="" /></p>
<ul>
<li>首先在最初都处于Down状态，A需要发送hello报文，让B收到。</li>
<li>hello报文的TTL为1，因此不会跨路由器传播，收到即丢弃</li>
<li>收到后,B也会发送Hello报文，然后A收到后进入Two Way 状态</li>
</ul>
<p><img src="p/exchange.png" alt="" /></p>
<ul>
<li>准备交换数据库（Exstart Starts）。首先选出RouterID高的一方，发送自己的数据库描述DBD报文，另一方接收处理，同时自己也发送自己的DBD报文</li>
</ul>
<p><img src="p/%E6%A3%80%E6%9F%A5.png" alt="" /></p>
<ul>
<li>交换完成后，分别检查自己有没有全部的信息</li>
<li>如果有完整的信息则发送LSAck链路状态确认报文</li>
<li>如果缺失了部分信息，那么发送LSR链路状态请求报文，然后等待对方发送LSU链路状态更新报文，收到后也发生LSAck</li>
<li>完成之后就进入了Full State状态</li>
</ul>
<h3 id="ospf总体流程"><a class="markdownIt-Anchor" href="#ospf总体流程"></a> OSPF总体流程</h3>
<p>五大步骤（上文提过）：</p>
<ul>
<li>建立邻接关系</li>
<li>选择DR和BDR（多路复用中使用）</li>
<li>发现路线</li>
<li>选择合适的路线</li>
<li>维护路由信息</li>
</ul>
<h4 id="1-建立邻接关系"><a class="markdownIt-Anchor" href="#1-建立邻接关系"></a> 1、建立邻接关系</h4>
<p>关键词：Hello数据包</p>
<ul>
<li>初始处于<strong>down状态</strong></li>
<li>然后进入<strong>Init状态</strong>，路由器每隔一段时间发送Hello数据包，如果邻居发现了就将邻居添加到自己的邻居数据库。</li>
<li>然后根据不同条件判断是否进入第二步：如果多路复用，并且DR/BDR字段未被占用（当前网络尚未存在DR/BDR），就进入<strong>Two-Way状态</strong>并进入第二步；否则（是点对点或点对多网络，或者DR/BDR字段已被占用）就跳过步骤2，直接进入步骤3</li>
</ul>
<h4 id="2-选举dr和bdr"><a class="markdownIt-Anchor" href="#2-选举dr和bdr"></a> 2、选举DR和BDR</h4>
<p>进入<strong>Exstart状态</strong>，并使用之前讲过的DR/BDR选举的方式来选举DR/BDR</p>
<ul>
<li>注意：已经确定的DR和BDR<strong>是不会更改</strong>的，就算有新的优先级更高的路由器加入。<strong>除非原有的DR失败（故障）</strong></li>
</ul>
<h4 id="3-发现路线"><a class="markdownIt-Anchor" href="#3-发现路线"></a> 3、发现路线</h4>
<p>这一步需要从Exstart状态转换到Full状态。</p>
<ul>
<li>首先进入Exchange状态，开始交换数据库，按照上文讲过的方法</li>
<li>然后进入LoadingState状态，开始补充各自缺失的信息，还是上文提过的方法。</li>
<li>交换完成就进入了Full State状态</li>
</ul>
<h4 id="4-选择适当的路线"><a class="markdownIt-Anchor" href="#4-选择适当的路线"></a> 4、选择适当的路线</h4>
<p>网络上所有其他路由器需要<strong>并行</strong>计算出最小生成树，使用SPF算法</p>
<ul>
<li>计算前提是所有路由器拥有相同的链路状态数据库</li>
<li>OSPF在计算完后在路由表中安装成本最低的路径，最多将安装 4 条等价路径以进行负载共享</li>
</ul>
<h4 id="5-维护路由信息"><a class="markdownIt-Anchor" href="#5-维护路由信息"></a> 5、维护路由信息</h4>
<p>进行常规的Hello交换来检测邻居的状态，可达性</p>
<ul>
<li>网络类型不同时，Hello数据包的发送间隔也不同（速度为T1（1.544Mbps）使用10秒间隔；小于T1则使用30秒间隔）</li>
</ul>
<h4 id="6-链路状态出现变化"><a class="markdownIt-Anchor" href="#6-链路状态出现变化"></a> 6、链路状态出现变化</h4>
<p><img src="p/%E8%B7%AF%E7%94%B1%E5%8F%98%E5%8C%96.png" alt="" /></p>
<ul>
<li>假如A的链路发生了变化，那么A就使用224.0.0.6告知其他路由器的DR</li>
<li>DR收到后，使用224.0.0.5告知其他所有其他路由器</li>
<li>如果路由器B连接到了其他area，则继续进行交换</li>
<li>信息交换完毕后就更新路由表</li>
</ul>
<h3 id="ospf配置"><a class="markdownIt-Anchor" href="#ospf配置"></a> OSPF配置</h3>
<p>1、启动OSPF：<code>router ospf [process-id]</code></p>
<ul>
<li>process-id表示</li>
<li>通常在整个 AS（自治系统）中保持相同的进程 ID（虽然不同应该影响不大）</li>
</ul>
<p>2、识别IP网络并将网段纳入OSPF中：<code>network [address] [wildcardmask] area [area-id]</code></p>
<ul>
<li>area即区分了主干区域与其他区域</li>
<li>wildcardmask与子网掩码相反，为0表示如果IP想要符合要求，每一位必须与属于这个address中对应的位相等，为1的为表示不考虑这位（这位任意都可）</li>
</ul>
<p>3、配置环回地址：interface <code>[loopback number]</code></p>
<ul>
<li>环回接口比如lo0，它会决定主从关系并涉及到DR的选举</li>
<li>需要使用32位子网掩码</li>
<li>配置时（也就是输入完这段命令后）自动启动并生效，无需no shutdown</li>
</ul>
<p>4、修改OSPF优先级：<code>ip ospf priority [number]</code></p>
<ul>
<li>优先级为0表示不参与选举</li>
<li>查看OSPF端口使用命令show ip ospf [interface type number]</li>
</ul>
<p>5、修改ospf路径cost<code>ip ospf cost [number]</code></p>
<ul>
<li>在config-if模式下输入</li>
<li>number在1-65535之间</li>
<li>连接到相同链路上的接口必须拥有相同的cost，不然这条链路会被视为关闭</li>
<li>思科路由器默认serial链路（串行链路）的成本为1784</li>
<li>如果一个链路比默认速度更低，你需要将其重新设置为它真实的速度，使用命令：<code>bandwidth [number]</code>(单位Kbps)</li>
</ul>
<p>6、设置OSPF计时器</p>
<ul>
<li>OSPF区域中的所有路由器必须拥有相同的Hello间隔和死间隔（具体数值看上文）<br />
命令：<code>ip ospf hello-interval [seconds]</code><br><br />
<code>ip ospf dead-interval [seconds]</code></li>
</ul>

            
        </div>
        <footer class="article-footer">
            <a data-url="https://eternalzero2022.github.io/2023/12/26/%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE/" data-id="clqm50qsd00008wuw3ihx7a7d" data-title="路由协议"
               class="article-share-link">分享</a>
            
            
            
            

        </footer>
    </div>
    
        
    <nav id="article-nav" class="wow fadeInUp">
        
            <div class="article-nav-link-wrap article-nav-link-left">
                
                    
                    
                        <img data-src="https://d-sketon.top/img/backimg/bg1.jpg" data-sizes="auto" alt="局域网交换与虚拟局域网" class="lazyload">
                    
                
                <a href="/2023/12/26/%E5%B1%80%E5%9F%9F%E7%BD%91%E4%BA%A4%E6%8D%A2%E4%B8%8E%E8%99%9A%E6%8B%9F%E5%B1%80%E5%9F%9F%E7%BD%91/"></a>
                <div class="article-nav-caption">前一篇</div>
                <h3 class="article-nav-title">
                    
                        局域网交换与虚拟局域网
                    
                </h3>
            </div>
        
        
            <div class="article-nav-link-wrap article-nav-link-right">
                
                    
                    
                        <img data-src="https://d-sketon.top/img/backimg/bg1.jpg" data-sizes="auto" alt="线性代数问题分类" class="lazyload">
                    
                
                <a href="/2023/12/22/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0%E9%97%AE%E9%A2%98%E5%88%86%E7%B1%BB/"></a>
                <div class="article-nav-caption">后一篇</div>
                <h3 class="article-nav-title">
                    
                        线性代数问题分类
                    
                </h3>
            </div>
        
    </nav>


    
</article>











</section>
                
                    <aside id="sidebar">
    <div class="sidebar-wrap wow fadeInRight">
        <div class="sidebar-author">
            <img data-src="/avatar/avatar.jpg" data-sizes="auto" alt="EternalZero2022" class="lazyload">
            <div class="sidebar-author-name">EternalZero2022</div>
            <div class="sidebar-description">卑微软工狗一个，属于德克萨斯小姐</div>
        </div>
        <div class="sidebar-state">
            <div class="sidebar-state-article">
                <div>文章</div>
                <div class="sidebar-state-number">76</div>
            </div>
            <div class="sidebar-state-category">
                <div>分类</div>
                <div class="sidebar-state-number">3</div>
            </div>
            <div class="sidebar-state-tag">
                <div>标签</div>
                <div class="sidebar-state-number">0</div>
            </div>
        </div>
        <div class="sidebar-social">
            
                <div class=icon-github>
                    <a href=https://github.com/eternalzero2022 itemprop="url" target="_blank"></a>
                </div>
            
                <div class=icon-google>
                    <a href=https://plus.google.com/yourname itemprop="url" target="_blank"></a>
                </div>
            
                <div class=icon-twitter>
                    <a href=https://twitter.com/yourname itemprop="url" target="_blank"></a>
                </div>
            
                <div class=icon-facebook>
                    <a href=https://www.facebook.com/yourname itemprop="url" target="_blank"></a>
                </div>
            
        </div>
        <div class="sidebar-menu">
            
                <div class="sidebar-menu-link-wrap">
                    <a class="sidebar-menu-link-dummy" href="/"></a>
                    <span class="sidebar-menu-icon"></span>
                    <div class="sidebar-menu-link">首页</div>
                </div>
            
                <div class="sidebar-menu-link-wrap">
                    <a class="sidebar-menu-link-dummy" href="/archives"></a>
                    <span class="sidebar-menu-icon"></span>
                    <div class="sidebar-menu-link">归档</div>
                </div>
            
                <div class="sidebar-menu-link-wrap">
                    <a class="sidebar-menu-link-dummy" href="/about"></a>
                    <span class="sidebar-menu-icon"></span>
                    <div class="sidebar-menu-link">关于</div>
                </div>
            
                <div class="sidebar-menu-link-wrap">
                    <a class="sidebar-menu-link-dummy" href="/friend"></a>
                    <span class="sidebar-menu-icon"></span>
                    <div class="sidebar-menu-link">友链</div>
                </div>
            
        </div>
    </div>
    
        
    <div class="widget-wrap wow fadeInRight">
        <h3 class="widget-title">分类</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A8%B1%E4%B9%90/">娱乐</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BB%8F%E9%AA%8C-%E6%9D%82%E8%B0%88/">经验/杂谈</a></li></ul>
        </div>
    </div>


    
        

    
        
    <div class="widget-wrap wow fadeInRight">
        <h3 class="widget-title">归档</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">三月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">二月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">一月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">十二月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">十一月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">十月 2023</a></li></ul>
        </div>
    </div>


    
</aside>

                
            </div>
            <footer id="footer" class="wow fadeInUp">
    <div style="width: 100%; overflow: hidden"><div class="footer-line"></div></div>
    <div class="outer">
        <div id="footer-info" class="inner">
            
            <div>
                <span class="icon-copyright"></span>
                2020-2024
                <span class="footer-info-sep"></span>
                EternalZero2022
            </div>
            
                <div>
                    基于&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>&nbsp;
                    Theme.<a href="https://github.com/D-Sketon/hexo-theme-reimu" target="_blank">Reimu</a>
                </div>
            
            
                <div>
                    <span class="icon-brush"></span>
                    195.5k
                    &nbsp;|&nbsp;
                    <span class="icon-coffee"></span>
                    11:41
                </div>
            
            
                <div>
                    <span class="icon-eye"></span>
                    <span id="busuanzi_container_site_pv">总访问量&nbsp;<span id="busuanzi_value_site_pv"></span></span>
                    &nbsp;|&nbsp;
                    <span class="icon-user"></span>
                    <span id="busuanzi_container_site_uv">总访客量&nbsp;<span id="busuanzi_value_site_uv"></span></span>
                </div>
            
        </div>
    </div>
</footer>

        </div>
        <nav id="mobile-nav">
    <div class="sidebar-wrap">
        <div class="sidebar-author">
            <img data-src="/avatar/avatar.jpg" data-sizes="auto" alt="EternalZero2022" class="lazyload">
            <div class="sidebar-author-name">EternalZero2022</div>
            <div class="sidebar-description">卑微软工狗一个，属于德克萨斯小姐</div>
        </div>
        <div class="sidebar-state">
            <div class="sidebar-state-article">
                <div>文章</div>
                <div class="sidebar-state-number">76</div>
            </div>
            <div class="sidebar-state-category">
                <div>分类</div>
                <div class="sidebar-state-number">3</div>
            </div>
            <div class="sidebar-state-tag">
                <div>标签</div>
                <div class="sidebar-state-number">0</div>
            </div>
        </div>
        <div class="sidebar-social">
            
                <div class=icon-github>
                    <a href=https://github.com/eternalzero2022 itemprop="url" target="_blank"></a>
                </div>
            
                <div class=icon-google>
                    <a href=https://plus.google.com/yourname itemprop="url" target="_blank"></a>
                </div>
            
                <div class=icon-twitter>
                    <a href=https://twitter.com/yourname itemprop="url" target="_blank"></a>
                </div>
            
                <div class=icon-facebook>
                    <a href=https://www.facebook.com/yourname itemprop="url" target="_blank"></a>
                </div>
            
        </div>
        <div class="sidebar-menu">
            
                <div class="sidebar-menu-link-wrap">
                    <a class="sidebar-menu-link-dummy" href="/"></a>
                    <span class="sidebar-menu-icon"></span>
                    <div class="sidebar-menu-link">首页</div>
                </div>
            
                <div class="sidebar-menu-link-wrap">
                    <a class="sidebar-menu-link-dummy" href="/archives"></a>
                    <span class="sidebar-menu-icon"></span>
                    <div class="sidebar-menu-link">归档</div>
                </div>
            
                <div class="sidebar-menu-link-wrap">
                    <a class="sidebar-menu-link-dummy" href="/about"></a>
                    <span class="sidebar-menu-icon"></span>
                    <div class="sidebar-menu-link">关于</div>
                </div>
            
                <div class="sidebar-menu-link-wrap">
                    <a class="sidebar-menu-link-dummy" href="/friend"></a>
                    <span class="sidebar-menu-icon"></span>
                    <div class="sidebar-menu-link">友链</div>
                </div>
            
        </div>
    </div>
</nav>

        
<script src="https://unpkg.com/jquery@3.7.0/dist/jquery.min.js"></script>


<script src="https://unpkg.com/lazysizes@5.3.2/lazysizes.min.js"></script>


<script src="https://unpkg.com/clipboard@2.0.11/dist/clipboard.min.js"></script>



    
<script src="https://unpkg.com/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>



    
<script src="https://unpkg.com/busuanzi@2.3.0/bsz.pure.mini.js"></script>






<script src="/js/script.js"></script>
















    </div>
    <div class="site-search">
        <div class="algolia-popup popup">
            <div class="algolia-search">
                <span class="algolia-search-input-icon"></span>
                <div class="algolia-search-input" id="algolia-search-input"></div>
            </div>

            <div class="algolia-results">
                <div id="algolia-stats"></div>
                <div id="algolia-hits"></div>
                <div id="algolia-pagination" class="algolia-pagination"></div>
            </div>

            <span class="popup-btn-close"></span>
        </div>
    </div>
    <!-- hexo injector body_end start -->
<script src="/js/insertHighlight.js"></script>
<!-- hexo injector body_end end --></body>
    </html>

